{"version":3,"file":"237.js","mappings":"wNASA,MAmCA,EAnCuC,IAAqB,IAApB,YAAEA,GAAkB,EAC1D,MAAMC,GAAYC,EAAAA,EAAAA,oBACZ,aAAEC,IAAiBC,EAAAA,EAAAA,UAASJ,IAC3BK,EAAcC,IAAmBC,EAAAA,EAAAA,UAAyB,MAC3DC,GAAiBC,EAAAA,EAAAA,cAAY,MACjCC,EAAAA,EAAAA,QAAO,+BAAgC,kCACtC,IAOH,OALAC,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAMC,EAAAA,aAAAA,WAAwBC,GAASR,EAAgBQ,KAC7D,MAAO,IAAMF,EAAIG,gBAChB,IAGD,6BACGV,GAAgBL,GAAeK,GAAcW,SAC5C,kBAAC,EAAAC,cAAD,CACEC,kBAAkB,mBAClBC,MAAO,CACLC,SAAUf,EAAae,SACvBC,UAAWhB,EAAagB,UACxBC,cAAejB,GAAciB,cAAgBjB,EAAaiB,cAAgB,KAC1EC,cAAepB,GAAcqB,WAAWC,KACxCC,KAAM,OACN1B,YAAaA,EACbgB,QAASX,GAAcW,QACvBR,eAAgBA,EAChBP,UAAWA","sources":["webpack://@openmrs/esm-patient-forms-app/./src/forms/form-entry.component.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { detach, ExtensionSlot, useConnectivity, useVisit } from '@openmrs/esm-framework';\nimport { FormEntryProps, formEntrySub } from '@openmrs/esm-patient-common-lib';\n\ninterface FormProps {\n  patientUuid: string;\n  patient: fhir.Patient;\n}\n\nconst FormEntry: React.FC<FormProps> = ({ patientUuid }) => {\n  const isOffline = useConnectivity();\n  const { currentVisit } = useVisit(patientUuid);\n  const [selectedForm, setSelectedForm] = useState<FormEntryProps>(null);\n  const closeWorkspace = useCallback(() => {\n    detach('patient-chart-workspace-slot', 'patient-form-entry-workspace');\n  }, []);\n\n  useEffect(() => {\n    const sub = formEntrySub.subscribe((form) => setSelectedForm(form));\n    return () => sub.unsubscribe();\n  }, []);\n\n  return (\n    <div>\n      {selectedForm && patientUuid && selectedForm?.patient && (\n        <ExtensionSlot\n          extensionSlotName=\"form-widget-slot\"\n          state={{\n            formUuid: selectedForm.formUuid,\n            visitUuid: selectedForm.visitUuid,\n            encounterUuid: selectedForm?.encounterUuid ? selectedForm.encounterUuid : null,\n            visitTypeUuid: currentVisit?.visitType?.uuid,\n            view: 'form',\n            patientUuid: patientUuid,\n            patient: selectedForm?.patient,\n            closeWorkspace: closeWorkspace,\n            isOffline: isOffline,\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default FormEntry;\n"],"names":["patientUuid","isOffline","useConnectivity","currentVisit","useVisit","selectedForm","setSelectedForm","useState","closeWorkspace","useCallback","detach","useEffect","sub","formEntrySub","form","unsubscribe","patient","ExtensionSlot","extensionSlotName","state","formUuid","visitUuid","encounterUuid","visitTypeUuid","visitType","uuid","view"],"sourceRoot":""}