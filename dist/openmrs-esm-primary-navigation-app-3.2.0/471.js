(self.webpackChunk_openmrs_esm_primary_navigation_app=self.webpackChunk_openmrs_esm_primary_navigation_app||[]).push([[471],{9549:(e,n,t)=>{"use strict";t.d(n,{O:()=>i,e:()=>r});const i="user-property-change",r="@openmrs/esm-primary-navigation-app"},5471:(e,n,t)=>{"use strict";t.r(n),t.d(n,{backendDependencies:()=>c,importTranslation:()=>p,setupOpenMRS:()=>u});var i=t(7657),r=t(9549);async function o(e,n,t){const r=await(0,i.getSessionLocation)(),o=null==r?void 0:r.uuid;await(0,i.openmrsFetch)(`/ws/rest/v1/user/${e}`,{method:"POST",body:{userProperties:n},headers:{"Content-Type":"application/json"},signal:t.signal}),o&&await(0,i.setSessionLocation)(o,t)}function s(e,n){return(0,i.queueSynchronizationItemFor)(e,r.O,n,{displayName:"User Language Change"})}const a={logo:{src:{_type:i.Type.String,_default:null,_description:"A path or URL to an image. Defaults to the OpenMRS SVG sprite."},alt:{_type:i.Type.String,_default:"Logo",_description:"Alt text, shown on hover"},name:{_type:i.Type.String,_default:null,_description:"The organization name displayed when image is absent"}},externalRefLinks:{enabled:{_type:i.Type.Boolean,_default:!0,_description:"Whether to show external links in the app menu"},links:{_type:i.Type.Array,_elements:{visible:{_type:i.Type.Boolean,_description:"Whether to show a link in the menu",_default:!0},title:{_type:i.Type.String,_description:"Title of the link"},redirect:{_type:i.Type.String,_description:"Link to redirect to (must be an external link)"}},_default:[{visible:!1,title:"External link",redirect:"/external-link"}],_description:"The links to be showcased in the app menu"}}};async function l(e,n){if(0===n.index){const e=await(0,i.getLoggedInUser)(),t=n.items.map((([e,n])=>n)),r=Object.assign({},e.userProperties,...t);await o(e.uuid,r,n.abort),(0,i.refetchCurrentUser)()}}const p=t(3979),c={"webservices.rest":"^2.2.0"},d={featureName:"primary navigation",moduleName:r.e};function u(){return(0,i.defineConfigSchema)(r.e,a),(0,i.setupOfflineSync)(r.O,[],l),{pages:[{load:(0,i.getAsyncLifecycle)((()=>Promise.all([t.e(339),t.e(596),t.e(983),t.e(784),t.e(692)]).then(t.bind(t,2692))),d),route:e=>!e.pathname.startsWith(window.getOpenmrsSpaBase()+"login"),online:!0,offline:!0,order:0}],extensions:[{name:"default-user-panel",slot:"user-panel-slot",order:0,load:(0,i.getAsyncLifecycle)((()=>Promise.all([t.e(339),t.e(983),t.e(784),t.e(686)]).then(t.bind(t,5686))),d),online:!0,offline:!0},{name:"change-locale",slot:"user-panel-slot",order:1,load:(0,i.getAsyncLifecycle)((()=>Promise.all([t.e(983),t.e(784),t.e(878)]).then(t.bind(t,8878))),d),online:{postUserProperties:o},offline:{postUserProperties:s}}]}}},3979:(e,n,t)=>{var i={"./en.json":[3574,574]};function r(e){if(!t.o(i,e))return Promise.resolve().then((()=>{var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=i[e],r=n[0];return t.e(n[1]).then((()=>t(r)))}r.keys=()=>Object.keys(i),r.id=3979,e.exports=r}}]);
//# sourceMappingURL=471.js.map