{"version":3,"file":"723.js","mappings":"wPAWA,MA2BA,EA3BkD,IAAsC,IAArC,aAAEA,EAAF,eAAgBC,GAAqB,EACtF,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,mBACPC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,MAEjCC,GAAUC,EAAAA,EAAAA,cAAY,KAC1B,MAAMC,GAAQC,EAAAA,EAAAA,WAAU,sBAAuB,CAC7CC,YAAYP,GACVC,EAAWD,GACXH,EAAeG,GAASQ,EAAAA,EAAAA,iBAAgB,IAAIC,OAC5CJ,KAEFK,gBAAgB,MAEjB,CAACb,IAEJ,OACE,yBAAKc,MAAO,CAAEC,QAAS,OAAQC,WAAY,WACzC,yBAAKF,MAAO,CAAEG,SAAU,SACtB,yBAAKC,IAAKf,GAAWJ,GAAgBoB,EAAaC,IAAI,UAAUN,MAAO,CAAEO,MAAO,WAElF,kBAAC,IAAD,CAAQC,KAAK,QAAQC,QAASjB,EAASQ,MAAO,CAAEU,KAAM,IACnDzB,EAAeE,EAAE,cAAe,gBAAkBA,EAAE,WAAY,mB","sources":["webpack://@openmrs/esm-patient-attachments-app/./src/attachments/capture-photo.component.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport placeholder from '../assets/placeholder.svg';\nimport { Button } from 'carbon-components-react';\nimport { showModal, toOmrsIsoString } from '@openmrs/esm-framework';\nimport { useTranslation } from 'react-i18next';\n\nexport interface CapturePhotoProps {\n  onCapturePhoto(dataUri: string, photoDateTime: string): void;\n  initialState?: string;\n}\n\nconst CapturePhoto: React.FC<CapturePhotoProps> = ({ initialState, onCapturePhoto }) => {\n  const { t } = useTranslation();\n  const [dataUri, setDataUri] = useState(null);\n\n  const showCam = useCallback(() => {\n    const close = showModal('capture-photo-modal', {\n      onSavePhoto(dataUri: string) {\n        setDataUri(dataUri);\n        onCapturePhoto(dataUri, toOmrsIsoString(new Date()));\n        close();\n      },\n      collectCaption: false,\n    });\n  }, [onCapturePhoto]);\n\n  return (\n    <div style={{ display: 'flex', alignItems: 'center' }}>\n      <div style={{ maxWidth: '64px' }}>\n        <img src={dataUri || initialState || placeholder} alt=\"Preview\" style={{ width: '100%' }} />\n      </div>\n      <Button kind=\"ghost\" onClick={showCam} style={{ flex: 1 }}>\n        {initialState ? t('changeImage', 'Change image') : t('addImage', 'Add image +')}\n      </Button>\n    </div>\n  );\n};\n\nexport default CapturePhoto;\n"],"names":["initialState","onCapturePhoto","t","useTranslation","dataUri","setDataUri","useState","showCam","useCallback","close","showModal","onSavePhoto","toOmrsIsoString","Date","collectCaption","style","display","alignItems","maxWidth","src","placeholder","alt","width","kind","onClick","flex"],"sourceRoot":""}