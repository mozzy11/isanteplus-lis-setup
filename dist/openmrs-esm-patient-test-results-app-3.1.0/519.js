"use strict";(self.webpackChunk_openmrs_esm_patient_test_results_app=self.webpackChunk_openmrs_esm_patient_test_results_app||[]).push([[519],{8519:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var n=r(9902),s=r.n(n),a=r(4924),l=r(1354),i=r.n(l),o=r(1583),c=r.n(o),u=r(7378),d=r.n(u),m=r(5993),p=r.n(m),v=r(4154),g=r.n(v),_=r(8141),h=r.n(_),w=r(6078),f={};f.styleTagTransform=h(),f.setAttributes=p(),f.insert=d().bind(null,"head"),f.domAPI=c(),f.insertStyleElement=g(),i()(w.Z,f);const b=w.Z&&w.Z.locals?w.Z.locals:void 0;var A,E=r(3771),C=r(5737),T=r(9138),k=r(560),y=r(9035),Z=r(7030),x=r(8580),D=r(5495),R=["children"],S=s().forwardRef((function(e,t){var r=e.children,n=(0,D._)(e,R);return s().createElement(D.I,(0,D.a)({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t},n),A||(A=s().createElement("path",{d:"M9.3 3.7L13.1 7.5 1 7.5 1 8.5 13.1 8.5 9.3 12.3 10 13 15 8 10 3z"})),r)}));function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}const j=e=>{let{patientUuid:t,filter:r}=e;const{t:l}=(0,a.useTranslation)(),{overviewData:i,loaded:o,error:c}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!0;const{sortedObs:r,loaded:s,error:a}=(0,T.Z)(e);return{overviewData:(0,n.useMemo)((()=>Object.entries(r).flatMap((e=>{let[t,{entries:r,type:n,uuid:s}]=e;return r.map((e=>[e,s,n,t]))})).filter(t).map((e=>{let[t,r,n,s]=e;return[s,n,(0,C.q)(t,n,s),new Date(t.effectiveDateTime),new Date(t.issued),r]})).sort(((e,t)=>{let[,,,r]=e,[,,,n]=t;return n.getTime()-r.getTime()}))),[t,r]),loaded:s,error:a}}(t,r),u=l("recentResults","Recent Results"),d=(0,n.useCallback)((()=>{(0,y.navigate)({to:`\${openmrsSpaBase}/patient/${t}/chart/test-results`})}),[t]);return s().createElement(B,null,o?s().createElement(s().Fragment,null,i.length?s().createElement("div",{className:b.widgetCard},s().createElement("div",{className:b.externalOverviewHeader},s().createElement("h4",{className:`${b.productiveHeading03} ${b.text02}`},u),s().createElement(Z.Z,{kind:"ghost",renderIcon:S,iconDescription:"See all results",onClick:d},l("seeAllResults","See all results"))),s().createElement(k.Z,{patientUuid:t,overviewData:i.slice(0,3),insertSeparator:!0,deactivateToolbar:!0,isPatientSummaryDashboard:!1,hideToolbar:!0}),i.length>3&&s().createElement(Z.Z,{onClick:d,kind:"ghost"},l("moreResultsAvailable","More results available"))):s().createElement(E.EmptyState,{headerTitle:u,displayText:l("recentTestResults","recent test results")})):s().createElement(x.Z,{columnCount:3}))},B=e=>s().createElement("div",O({},e,{className:b["recent-results-grid"]}))},6078:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(1799),s=r.n(n),a=r(2609),l=r.n(a)()(s());l.push([e.id,".-esm-patient-test-results__external-overview-component__recent-results-grid___zjTmB{display:grid;background-color:#fff}","",{version:3,sources:["webpack://./src/overview/external-overview.component.scss"],names:[],mappings:"AACA,qFACI,YAAA,CACA,qBAAA",sourcesContent:["\n.recent-results-grid {\n    display: grid;\n    background-color: white;\n  }"],sourceRoot:""}]),l.locals={"recent-results-grid":"-esm-patient-test-results__external-overview-component__recent-results-grid___zjTmB"};const i=l}}]);
//# sourceMappingURL=519.js.map